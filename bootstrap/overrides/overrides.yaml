
global:
  extraEnv:
    # PROXY (recomendado en MAYÃšSCULAS)
    - name: HTTP_PROXY
      value: "http://proxy-gamp-hybrid-d2vpp.internet-dev.ec1.aws.aztec.cloud.allianz:8080"
    - name: HTTPS_PROXY
      value: "http://proxy-gamp-hybrid-d2vpp.internet-dev.ec1.aws.aztec.cloud.allianz:8080"
    - name: NO_PROXY
      value: "localhost,127.0.0.1,.svc,.cluster.local,kubernetes.default,kubernetes.default.svc,kubernetes.default.svc.cluster.local,apis.allianz,.argocd.svc,argocd-server,argocd-repo-server,argocd-dex-server,argocd-redis,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16"
 
    # (Opcional) tambiÃ©n en minÃºsculas por compatibilidad con algunas imÃ¡genes

    - name: http_proxy
      value: "http://proxy-gamp-hybrid-d2vpp.internet-dev.ec1.aws.aztec.cloud.allianz:8080"
    - name: https_proxy
      value: "http://proxy-gamp-hybrid-d2vpp.internet-dev.ec1.aws.aztec.cloud.allianz:8080"
    - name: no_proxy
      value: "localhost,127.0.0.1,.svc,.cluster.local,kubernetes.default,kubernetes.default.svc,kubernetes.default.svc.cluster.local,apis.allianz,.argocd.svc,argocd-server,argocd-repo-server,argocd-dex-server,argocd-redis,10.0.0.0/8,172.16.0.0/12,192.168.0.0/16"
 
instanceID: apigee-nonprod-eks
namespace: apigee
 
gcp:
  projectID: pocapigee-485810
  region: europe-west1
 
k8sCluster:
  name: adpk8s-eks-gamp-deuc1-2
  region: eu-central-1
 
org: pocapigee-485810

nodeSelector:
  requiredForScheduling: false
  apigeeRuntime:
    key: "karpenter.sh/nodepool"
    value: "adp-default"
  apigeeData:
    key: "karpenter.sh/nodepool"
    value: "apigee-data"

envs:
  - name: test
    serviceAccountSecretRefs:
      synchronizer: apigee-non-prod-svc-account
      runtime: apigee-non-prod-svc-account
 
cassandra:
  hostNetwork: false
  replicaCount: 1   # no-prod
 
ingressGateways:
  - name: apigee-ingress
    replicaCountMin: 2
    replicaCountMax: 2
 
virtualhosts:
  - name: hybrid-group
    selector:
      app: apigee-ingressgateway
      ingress_name: apigee-ingress
    hostAliases:
      - api.example.com
    tls:
      secretName: apigee-runtime-tls   # ðŸ”‘ creado por cert-manager
 
guardrails:
  serviceAccountRef: apigee-non-prod-svc-account
 
mart:
  serviceAccountRef: apigee-non-prod-svc-account
 
connectAgent:
  serviceAccountRef: apigee-non-prod-svc-account
 
logger:
  enabled: true
  serviceAccountRef: apigee-non-prod-svc-account
 
metrics:
  serviceAccountRef: apigee-non-prod-svc-account
 
watcher:
  serviceAccountRef: apigee-non-prod-svc-account
 
runtime:
  image:
    url: gcr.io/apigee-release/hybrid/apigee-runtime
    tag: "1.16.0"
 
  cwcAppend:
    bin_setenv_max_mem: 4096m
    resources:
      requests:
        memory: 4Gi
      limits:
        memory: 6Gi